[21:04:40] ğŸš€ Starting Universal ID Pipeline Orchestration
[21:04:40] Phase 1: Initializing Core Components
[21:04:40] âœ… Core components initialized
[21:04:40] Phase 2: Executing Note Coordinator
      NOTE COORDINATOR - Universal Note Matching System
      ============================================================
      ğŸ“„ MusicXML: Brain/Base/SS 9.musicxml
      ğŸµ MIDI: Brain/Base/Saint-Saens Trio No 2.mid
      ğŸ“ Output: universal_output
      ğŸ“„ Loading XML notes from: Brain/Base/SS 9.musicxml
         âœ… Loaded 9 XML notes from 2 parts
      ğŸµ Loading MIDI notes from: Brain/Base/Saint-Saens Trio No 2.mid
         âœ… Loaded 6 MIDI notes from 2 tracks
      ğŸ–¼ï¸  Calculating SVG coordinates
         âœ… Calculated 9 SVG coordinates
      ğŸŒ Creating universal note registry
      ğŸ”— Matching XML to MIDI notes
         âœ… Matched 6/9 XML notes to MIDI
         âœ… Created 9 universal notes
      ğŸ’¾ Saved coordination data to: universal_output
         ğŸ“‹ universal_notes_registry.json - Complete note registry
         ğŸµ midi_pipeline_manifest.json - MIDI pipeline tracking
         ğŸ–¼ï¸  svg_pipeline_manifest.json - SVG pipeline tracking
         ğŸ“Š coordination_metadata.json - Comprehensive metadata
      ğŸ¯ COORDINATION COMPLETE!
      ============================================================
      âœ… Total Notes: 9
      ğŸ”— High Confidence Matches: 6
      ğŸ“Š Average Match Confidence: 0.67
      â±ï¸  Total Duration: 9.50s
      ğŸ“‹ Instrument Breakdown:
         P1: 3 notes, 2 matched to MIDI
         P2: 6 notes, 4 matched to MIDI
      ğŸš€ Ready for pipeline execution with universal note tracking!
[21:04:41] âœ… Note Coordinator completed: 9 Universal IDs loaded
[21:04:41] Phase 3: Executing Tied Note Processor
      TIED NOTE PROCESSOR TEST
      ==================================================
      ğŸ“„ MusicXML: Brain/Base/SS 9.musicxml
      â±ï¸  Master timing: universal_output/coordination_metadata.json
      ğŸ¯ Matches: universal_output/universal_notes_registry.json
      ğŸµ Tempo: 120.0 BPM
      âœ… XML Analysis Complete:
         ğŸ“ Total notes: 9
         ğŸ”— Tied groups: 2
      âœ… Loaded 0 note matches
      ğŸ”— TIED NOTE PROCESSOR INITIALIZED
      ğŸµ Default tempo: 120.0 BPM
      TIED NOTE RELATIONSHIP PROCESSING
      ==================================================
      ğŸ¼ Total XML notes: 9
      ğŸ”— Tied groups: 2
      ğŸ¯ Note matches: 0
      ğŸ“‹ Creating structured tied note groups...
      âœ… Group tied_group_1: 2 notes, primary: A4 @ M4
      âœ… Group tied_group_2: 2 notes, primary: B3 @ M4
      ğŸ“Š Created 2 tied note groups
      ğŸ¯ Matching tied groups with MIDI notes...
      âŒ Group tied_group_1 primary note not matched: A4 @ 7.500s
      âŒ Group tied_group_2 primary note not matched: B3 @ 6.000s
      ğŸ“ˆ Matched 0/2 tied groups with MIDI
      â±ï¸  Calculating tied note timing...
      âš ï¸  Skipping unmatched group: tied_group_1
      âš ï¸  Skipping unmatched group: tied_group_2
      ğŸµ Processing non-tied notes...
      âœ… Processed 0 non-tied notes with direct MIDI timing
      ğŸ” Validating timing assignments...
      ğŸ“Š VALIDATION RESULTS:
      âœ… Total assignments: 0
      ğŸ¯ Primary notes (MIDI exact): 0
      ğŸ”— Tied notes (calculated): 0
      ğŸ“ˆ Average confidence: 0.000
      ğŸ’¾ Tied note assignments saved to: universal_output/tied_note_assignments.json
      âœ… After Effects timing data saved to: universal_output/ae_timing_data.json
      ğŸ¯ TIED NOTE PROCESSING COMPLETE!
      âœ… Total assignments: 0
      ğŸ¯ Primary (MIDI exact): 0
      ğŸ”— Tied (calculated): 0
      ğŸ“ˆ Average confidence: 0.000
      â±ï¸  Timing spread: 0.000s
[21:04:41] âœ… Tied Note Processor completed with timing calculations
[21:04:41] Phase 4: Executing Pipeline Stages
[21:04:41] ğŸ”„ Executing Sequential Pipeline
      TRULY UNIVERSAL NOTEHEADS EXTRACTOR
      ==================================================
      Input: Brain/Base/SS 9.musicxml
      Output: outputs/svg/noteheads/SS 9_noteheads_universal.svg
      âœ… Extracted 9 notes from 2 parts
      âœ… Applied universal coordinate transformation
      âœ… Created universal noteheads SVG: outputs/svg/noteheads/SS 9_noteheads_universal.svg
      SUMMARY:
      Part P1: 3 notes
        A4 M4 â†’ SVG(3178,1037)
        A4 M5 â†’ SVG(3454,1037)
        G4 M5 â†’ SVG(3618,1049)
      Part P2: 6 notes
        B3 M4 â†’ SVG(2723,1429)
        B3 M4 â†’ SVG(3178,1429)
        B3 M5 â†’ SVG(3454,1429)
        A3 M5 â†’ SVG(3618,1441)
        C4 M5 â†’ SVG(3842,1417)
        B3 M5 â†’ SVG(4006,1429)
      ğŸ¯ SUCCESS! Universal transformation applied to Brain/Base/SS 9.musicxml
      TRULY UNIVERSAL NOTEHEADS SUBTRACTOR
      ==================================================
      MusicXML: Brain/Base/SS 9.musicxml
      Full SVG: Brain/Base/SS 9 full.svg
      Output: outputs/svg/SS 9 full_without_noteheads.svg
      âœ… Found 9 notes in 2 parts
      âœ… Calculated 9 notehead coordinates to remove
      Original SVG size: 43265 characters
      Expected notehead coordinates: 9
      âœ“ Removing notehead at (3179.0, 1037.0) matching expected (3178, 1037)
      âœ“ Removing notehead at (3453.0, 1037.0) matching expected (3454, 1037)
      âœ“ Removing notehead at (3617.0, 1049.0) matching expected (3618, 1049)
      âœ“ Removing notehead at (2723.0, 1429.0) matching expected (2723, 1429)
      âœ“ Removing notehead at (3179.0, 1429.0) matching expected (3178, 1429)
      âœ“ Removing notehead at (3453.0, 1429.0) matching expected (3454, 1429)
      âœ“ Removing notehead at (3617.0, 1441.0) matching expected (3618, 1441)
      âœ“ Removing notehead at (3843.0, 1417.0) matching expected (3842, 1417)
      âœ“ Removing notehead at (4006.0, 1429.0) matching expected (4006, 1429)
      Removed 9 noteheads (should be exactly 9)
      Remaining unmatched coordinates: 0
      Filtered SVG size: 41618 characters
      Size reduction: 1647 characters
      âœ… Created SVG without noteheads: outputs/svg/SS 9 full_without_noteheads.svg
      ğŸ¯ SUCCESS! Full SVG with noteheads removed: outputs/svg/SS 9 full_without_noteheads.svg
      XML-BASED UNIVERSAL INSTRUMENT SEPARATOR
      ==================================================
      MusicXML: Brain/Base/SS 9.musicxml
      Full SVG: Brain/Base/SS 9 full.svg
      Output Directory: outputs/svg/instruments
      ğŸµ Found 2 instruments:
         1. FlÃ»te (P1) - Flute (2)
         2. Violon (P2) - Violin
      ğŸ“ Calculated staff positions using universal transformation
      Original SVG: Brain/Base/SS 9 full.svg
      ğŸ¼ Processing FlÃ»te (P1)...
         Staff Y range: 950 to 1100
         âœ… Created: FlÃ»te_P1.svg
         ğŸ“Š Kept 34 elements, removed 59 elements
         ğŸ’¾ File size: 36714 bytes
      ğŸ¼ Processing Violon (P2)...
         Staff Y range: 1250 to 1500
         âœ… Created: Violon_P2.svg
         ğŸ“Š Kept 49 elements, removed 44 elements
         ğŸ’¾ File size: 38183 bytes
      ğŸ¯ SUCCESS! Created 2 instrument-specific SVG files in 'outputs/svg/instruments/' directory
      INDIVIDUAL NOTEHEADS CREATOR
      ========================================
      MusicXML: Brain/Base/SS 9.musicxml
      Output Directory: outputs/svg/noteheads
      ğŸµ Found 9 notes
      ğŸ¼ Instrument mapping: {'P1': 'FlÃ»te', 'P2': 'Violon'}
         âœ… Created: notehead_000_P1_A4_M4.svg
            ğŸ“ Position: (3178, 1037) - A4 quarter
         âœ… Created: notehead_001_P1_A4_M5.svg
            ğŸ“ Position: (3454, 1037) - A4 eighth
         âœ… Created: notehead_002_P1_G4_M5.svg
            ğŸ“ Position: (3617, 1049) - G4 quarter
         âœ… Created: notehead_003_P2_B3_M4.svg
            ğŸ“ Position: (2722, 1429) - B3 half
         âœ… Created: notehead_004_P2_B3_M4.svg
            ğŸ“ Position: (3178, 1429) - B3 quarter
         âœ… Created: notehead_005_P2_B3_M5.svg
            ğŸ“ Position: (3454, 1429) - B3 eighth
         âœ… Created: notehead_006_P2_A3_M5.svg
            ğŸ“ Position: (3617, 1441) - A3 quarter
         âœ… Created: notehead_007_P2_C4_M5.svg
            ğŸ“ Position: (3841, 1417) - C4 eighth
         âœ… Created: notehead_008_P2_B3_M5.svg
            ğŸ“ Position: (4005, 1429) - B3 quarter
      ğŸ¯ SUCCESS! Created 9 individual notehead SVG files in 'outputs/svg/noteheads/' directory
      SUMMARY BY INSTRUMENT:
        P1: 3 noteheads
          A4 M4 â†’ SVG(3178,1037)
          A4 M5 â†’ SVG(3454,1037)
          G4 M5 â†’ SVG(3617,1049)
        P2: 6 noteheads
          B3 M4 â†’ SVG(2722,1429)
          B3 M4 â†’ SVG(3178,1429)
          B3 M5 â†’ SVG(3454,1429)
          A3 M5 â†’ SVG(3617,1441)
          C4 M5 â†’ SVG(3841,1417)
          B3 M5 â†’ SVG(4005,1429)
      STAFF LINES + BARLINES EXTRACTOR
      ==================================================
      MusicXML: Brain/Base/SS 9.musicxml
      Full SVG: Brain/Base/SS 9 full.svg
      ğŸ¼ Found 2 staves
      ğŸ“ Found 5 measures
      ğŸ“ Identified 10 staff lines
      ğŸ“ Identified 13 barlines
      âœ… Created staff lines and barlines SVG: outputs/svg/staff_barlines/SS 9_staff_barlines.svg
      SUMMARY BY STAFF:
        FlÃ»te: 5 staff lines
          Y=1073.0 (X: 564.0-4608.0)
          Y=1049.0 (X: 564.0-4608.0)
          Y=1025.0 (X: 564.0-4608.0)
          Y=1001.0 (X: 564.0-4608.0)
          Y=977.0 (X: 564.0-4608.0)
        Violon: 5 staff lines
          Y=1393.0 (X: 564.0-4608.0)
          Y=1369.0 (X: 564.0-4608.0)
          Y=1345.0 (X: 564.0-4608.0)
          Y=1321.0 (X: 564.0-4608.0)
          Y=1297.0 (X: 564.0-4608.0)
      BARLINES:
        X=566.0 (Y: 977.0-1393.0) - regular (stroke-width=5)
        X=1422.0 (Y: 977.0-1073.0) - regular (stroke-width=5)
        X=1422.0 (Y: 1297.0-1393.0) - regular (stroke-width=5)
        X=2047.0 (Y: 977.0-1073.0) - regular (stroke-width=5)
        X=2047.0 (Y: 1297.0-1393.0) - regular (stroke-width=5)
        X=2673.0 (Y: 977.0-1073.0) - regular (stroke-width=5)
        X=2673.0 (Y: 1297.0-1393.0) - regular (stroke-width=5)
        X=3403.0 (Y: 977.0-1073.0) - regular (stroke-width=5)
        X=3403.0 (Y: 1297.0-1393.0) - regular (stroke-width=5)
        X=4578.0 (Y: 977.0-1073.0) - regular (stroke-width=5)
        X=4600.0 (Y: 977.0-1073.0) - THICK (stroke-width=16)
        X=4578.0 (Y: 1297.0-1393.0) - regular (stroke-width=5)
        X=4600.0 (Y: 1297.0-1393.0) - THICK (stroke-width=16)
      ğŸ¯ SUCCESS! Extracted 10 staff lines and 13 barlines
      MIDI NOTE SEPARATOR
      ==================================================
      Input MIDI: Brain/Base/Saint-Saens Trio No 2.mid
      ğŸµ MIDI Type: 1
      â±ï¸  Ticks per beat: 960
      ğŸ¼ Number of tracks: 3
      Track 0: Unnamed
        Notes found: 0
      Track 1: FlÃ»te
        Notes found: 2
        Pitch distribution: {'A4': 1, 'G4': 1}
      Track 2: Violon
        Notes found: 4
        Pitch distribution: {'A3': 1, 'B3': 2, 'C4': 1}
      ğŸ¯ TOTAL NOTES: 6
      ğŸ“ Creating individual note files in: outputs/midi
      âœ… Created: note_000_FlÃ»te_A4_vel76.mid
         Track: FlÃ»te
         Note: A4 (MIDI 69)
         Velocity: 76
         Duration: 1440 ticks
         Start: 14400 ticks
      âœ… Created: note_001_FlÃ»te_G4_vel76.mid
         Track: FlÃ»te
         Note: G4 (MIDI 67)
         Velocity: 76
         Duration: 960 ticks
         Start: 15840 ticks
      âœ… Created: note_002_Violon_B3_vel65.mid
         Track: Violon
         Note: B3 (MIDI 59)
         Velocity: 65
         Duration: 4406 ticks
         Start: 11520 ticks
      âœ… Created: note_003_Violon_A3_vel66.mid
         Track: Violon
         Note: A3 (MIDI 57)
         Velocity: 66
         Duration: 979 ticks
         Start: 15840 ticks
      âœ… Created: note_004_Violon_C4_vel65.mid
         Track: Violon
         Note: C4 (MIDI 60)
         Velocity: 65
         Duration: 454 ticks
         Start: 16800 ticks
      âœ… Created: note_005_Violon_B3_vel64.mid
         Track: Violon
         Note: B3 (MIDI 59)
         Velocity: 64
         Duration: 960 ticks
         Start: 17280 ticks
      ğŸ¯ SUCCESS! Created 6 individual note files
      ğŸ“ Output directory: outputs/midi
      SUMMARY BY TRACK:
        FlÃ»te: 2 notes
        Violon: 4 notes
      FAST MIDI TO AUDIO RENDERER
      ==================================================
      Input directory: outputs/midi
      ğŸµ Using soundfont: /System/Library/Components/CoreAudio.component/Contents/Resources/gs_instruments.dls
      ğŸ¼ Found 2 instruments, 6 files total:
        FlÃ»te: 2 notes
        Violon: 4 notes
      âš¡ Using 6 parallel workers for fast processing...
      âœ… note_005_Violon_B3_vel64.mid â†’ 229,676 bytes
      âœ… note_004_Violon_C4_vel65.mid â†’ 201,772 bytes
      âœ… note_003_Violon_A3_vel66.mid â†’ 230,700 bytes
      âœ… note_000_FlÃ»te_A4_vel76.mid â†’ 256,300 bytes
      âœ… note_001_FlÃ»te_G4_vel76.mid â†’ 229,676 bytes
      âœ… note_002_Violon_B3_vel65.mid â†’ 419,628 bytes
      ğŸ¯ FAST RENDERING COMPLETE!
      ğŸ“ Output directory: outputs/audio
      âœ… Successfully rendered: 6 files
      âŒ Failed to render: 0 files
      ğŸ“ Audio file structure:
      audio/
        FlÃ»te/
          note_001_FlÃ»te_G4_vel76.wav (229,676 bytes)
          note_000_FlÃ»te_A4_vel76.wav (256,300 bytes)
        Violon/
          note_004_Violon_C4_vel65.wav (201,772 bytes)
          note_003_Violon_A3_vel66.wav (230,700 bytes)
          note_005_Violon_B3_vel64.wav (229,676 bytes)
          note_002_Violon_B3_vel65.wav (419,628 bytes)
      FAST AUDIO TO KEYFRAMES EXTRACTOR
      ==================================================
      Input directory: outputs/audio
      ğŸµ Found 6 audio files
      âš¡ Using 6 parallel workers for fast processing...
      ğŸ”Š Analyzing: note_000_FlÃ»te_A4_vel76.wav
         Duration: 2.905s, Sample Rate: 22050Hz
      ğŸ”Š Analyzing: note_003_Violon_A3_vel66.wav
         Duration: 2.615s, Sample Rate: 22050Hz
      ğŸ”Š Analyzing: note_002_Violon_B3_vel65.wav
         Duration: 4.757s, Sample Rate: 22050Hz
      ğŸ”Š Analyzing: note_001_FlÃ»te_G4_vel76.wav
         Duration: 2.604s, Sample Rate: 22050Hz
      ğŸ”Š Analyzing: note_005_Violon_B3_vel64.wav
         Duration: 2.604s, Sample Rate: 22050Hz
      ğŸ”Š Analyzing: note_004_Violon_C4_vel65.wav
         Duration: 2.287s, Sample Rate: 22050Hz
      âœ… note_000_FlÃ»te_A4_vel76.wav
         Duration: 2.91s, Keyframes: 21
      âœ… note_003_Violon_A3_vel66.wav
         Duration: 2.62s, Keyframes: 19
      âœ… note_002_Violon_B3_vel65.wav
         Duration: 4.76s, Keyframes: 35
      âœ… note_001_FlÃ»te_G4_vel76.wav
         Duration: 2.60s, Keyframes: 19
      âœ… note_005_Violon_B3_vel64.wav
         Duration: 2.60s, Keyframes: 19
      âœ… note_004_Violon_C4_vel65.wav
         Duration: 2.29s, Keyframes: 17
      ğŸ¯ FAST KEYFRAME GENERATION COMPLETE!
      ğŸ“ Output directory: outputs/json/keyframes
      âœ… Successfully processed: 6 files
      âŒ Failed to process: 0 files
      ğŸ“ Keyframe file structure:
      keyframes/
        FlÃ»te/
          note_000_FlÃ»te_A4_vel76_keyframes.json
          note_001_FlÃ»te_G4_vel76_keyframes.json
        Violon/
          note_003_Violon_A3_vel66_keyframes.json
          note_004_Violon_C4_vel65_keyframes.json
          note_002_Violon_B3_vel65_keyframes.json
          ... and 1 more files
      ğŸ¯ Cleanup complete, exiting...
ğŸ“ FILES GENERATED: ğŸµ 16 audio (1.0 MB total)
ğŸ“Š EXECUTION SUMMARY: 351 messages processed, 4 patterns identified, -0.3% aggregation efficiency
ğŸ”¥ NUCLEAR EXIT: Last stage completed, forcing immediate termination!
